(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{58:function(e,n,t){"use strict";t.r(n);var r,c,a,i,o=t(2),s=t(35),u=t.n(s),l=t(12),d=t(5),b=t(3),j=t(36),p=Object(b.a)(r||(r=Object(d.a)(["\n\t\t",';\n\t\t* {\n\t\t\tbox-sizing: border-box;\t\t\n\t\t\t}\n\t\ta{\n\t\t\ttext-decoration:none;\n\t\t\tcolor:inherit;\n\t\t\toutline:none;\n\t\t}\n\t\tbody{\n\t\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n\t\t}\n\t\thtml, body, #root{\n\t\t\twidth:100%;\n\t\t\theight:100%;\n\t\t}\n\t\t#root{\t\t\t\t\n\t\t\twidth:500px;\n\t\t\tmargin:auto;\n\t\t\tbackground-color:#ecf0f1;\n\t\t}\n\t\t::-webkit-scrollbar { display: none; }\n\t\tbutton{\n\t\t\tborder:none;\n\t\t\toutline:none;\n\t\t\tbackground-color:transparent;\n\t\t\tcursor:pointer;\n\t\t\tcolor:#34495e;\n\t\t\n\t\t}\n\n'])),j.a),x=t(24),h=t(8),f=t(11),O=t.n(f),g=t(20),m=t(15),v=t(14),w=t(1),y=b.c.ul(c||(c=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  color: #34495e;\n"]))),S=b.c.li(a||(a=Object(d.a)(["\n  padding: 8px;\n  cursor: pointer;\n  transition: 300ms all ease-in-out;\n  &:hover {\n    color: #3498db;\n  }\n"]))),k=b.c.div(i||(i=Object(d.a)(["\n  display: flex;\n"]))),U=function(e){var n=e.authService,t=Object(h.f)(),r=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.logout().then((function(){return t.push("/")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)("nav",{children:Object(w.jsxs)(y,{children:[Object(w.jsxs)(k,{children:[Object(w.jsx)(S,{children:Object(w.jsx)(x.b,{to:"/",children:Object(w.jsx)(v.a,{icon:m.d,size:"2x"})})}),Object(w.jsx)(S,{children:Object(w.jsx)(x.b,{to:"/profile",children:Object(w.jsx)(v.a,{icon:m.g,size:"2x"})})})]}),Object(w.jsx)(S,{onClick:r,children:Object(w.jsx)(v.a,{icon:m.e,size:"2x"})})]})})},z=t(42),C=t(40),L=t(21);t(56),t(60),t(59);L.a.initializeApp({apiKey:"AIzaSyBoiKmR9DF1vNkhu6A_IxU4v0BtHFaElDc",authDomain:"twitter-clone-40183.firebaseapp.com",projectId:"twitter-clone-40183",storageBucket:"twitter-clone-40183.appspot.com",messagingSenderId:"311522568853",appId:"1:311522568853:web:8ddcb2d1af7cdb1a26099c",databaseURL:"https://twitter-clone-40183-default-rtdb.firebaseio.com"});var R,I,F,E,D,A,N,B,P,W,H,J,K,_,q,M,T,G,Q,V,X,Y,Z,$,ee,ne,te,re,ce,ae,ie,oe,se,ue,le,de,be=L.a.firestore(),je=L.a.storage(),pe=b.c.div(R||(R=Object(d.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 24px 16px;\n  border-radius: 16px;\n  margin-bottom: 16px;\n"]))),xe=b.c.div(I||(I=Object(d.a)(["\n  flex: 1;\n  margin-right: 16px;\n"]))),he=b.c.div(F||(F=Object(d.a)(["\n  flex: 9;\n  display: flex;\n  flex-direction: column;\n  width: 350px;\n"]))),fe=b.c.img(E||(E=Object(d.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"]))),Oe=b.c.button(D||(D=Object(d.a)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: all 300ms ease-in-out;\n  &:hover {\n    transform: scale(1.1);\n    transform: rotate(360deg);\n    color: red;\n  }\n"]))),ge=b.c.div(A||(A=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 20px;\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),me=b.c.div(N||(N=Object(d.a)(["\n  font-size: 24px;\n  width: 350px;\n  word-wrap: break-word;\n"]))),ve=b.c.div(B||(B=Object(d.a)(["\n  color: #505050;\n"]))),we=b.c.img(P||(P=Object(d.a)(["\n  width: 350px;\n  border-radius: 16px;\n"]))),ye=b.c.div(W||(W=Object(d.a)(["\n  margin-top: 16px;\n"]))),Se=b.c.form(H||(H=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 0;\n"]))),ke=b.c.input(J||(J=Object(d.a)(["\n  border: none;\n  font-size: 24px;\n  outline: none;\n  margin: 0;\n  padding: 0;\n"]))),Ue=function(e){var n=e.tweet,t=e.isAuthor,r=e.db,c=Object(o.useState)(!1),a=Object(l.a)(c,2),i=a[0],s=a[1],u=Object(o.useState)(n.text),d=Object(l.a)(u,2),b=d[0],j=d[1],p=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c")){e.next=8;break}return e.next=4,r.collection("tweets").doc(n.id).delete();case 4:if(e.t0=n.imageUrl,!e.t0){e.next=8;break}return e.next=8,je.refFromURL(n.imageUrl).delete();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.collection("tweets").doc(n.id).update({text:b});case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{children:Object(w.jsxs)(pe,{children:[Object(w.jsx)(xe,{children:Object(w.jsx)(fe,{src:n.photoURL})}),Object(w.jsxs)(he,{children:[Object(w.jsxs)(ge,{children:[Object(w.jsx)(ve,{children:n.displayName}),t&&Object(w.jsxs)("div",{children:[Object(w.jsx)(Oe,{onClick:p,children:Object(w.jsx)(v.a,{icon:m.f,size:"lg"})}),Object(w.jsx)(Oe,{onClick:function(){return s((function(e){return!e}))},children:Object(w.jsx)(v.a,{icon:m.c,size:"lg"})})]})]}),i?Object(w.jsxs)(Se,{onSubmit:x,children:[Object(w.jsx)(ke,{type:"text",placeholder:n.text,required:!0,onChange:function(e){var n=e.target.value;j(n)}}),Object(w.jsx)(Oe,{children:Object(w.jsx)(v.a,{icon:m.a,size:"2x"})})]}):Object(w.jsx)(me,{children:n.text}),n.imageUrl&&Object(w.jsx)(ye,{children:Object(w.jsx)(we,{src:n.imageUrl})})]})]})})},ze=t(61),Ce=b.c.form(K||(K=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 32px 0;\n"]))),Le=b.c.input(_||(_=Object(d.a)(["\n  width: 90%;\n  margin: 0 auto;\n  margin-bottom: 1rem;\n  padding: 16px 8px;\n  border-radius: 8px;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  border: none;\n  outline: none;\n  font-size: 16px;\n"]))),Re=b.c.input(q||(q=Object(d.a)(["\n  display: none;\n"]))),Ie=b.c.div(M||(M=Object(d.a)(["\n  width: 85%;\n  margin: auto;\n  display: flex;\n  justify-content: space-between;\n"]))),Fe=b.c.label(T||(T=Object(d.a)(["\n  transition: all 300ms ease-in-out;\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.2);\n  }\n"]))),Ee=b.c.button(G||(G=Object(d.a)(["\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 8px 16px;\n  border-radius: 8px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n  transition: all 300ms ease-in-out;\n  &:hover {\n    transform: scale(1.1);\n  }\n"]))),De=b.c.div(Q||(Q=Object(d.a)(["\n  width: 85%;\n  margin: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),Ae=b.c.button(V||(V=Object(d.a)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: all 300ms ease-in-out;\n  &:hover {\n    transform: scale(1.1);\n    color: red;\n  }\n"]))),Ne=function(e){var n=e.authService,t=e.db,r=Object(o.useState)(""),c=Object(l.a)(r,2),a=c[0],i=c[1],s=Object(o.useState)(""),u=Object(l.a)(s,2),d=u[0],b=u[1],j=Object(o.useRef)(),p=n.getCurrentUser(),x=function(){var e=Object(g.a)(O.a.mark((function e(n){var r,c,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",n.preventDefault(),c=je.ref().child("".concat(p.uid,"/").concat(Object(ze.a)())),!d){e.next=10;break}return e.next=6,c.putString(d,"data_url");case 6:return o=e.sent,e.next=9,o.ref.getDownloadURL();case 9:r=e.sent;case 10:return s={text:a,created:Date.now(),author:p.uid,imageUrl:r,displayName:p.displayName,photoURL:p.photoURL},e.next=13,t.collection("tweets").add(s).then((function(){return i("")})).then((function(){return h()}));case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){b(null),j.current.value=""};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Ce,{onSubmit:x,children:[Object(w.jsx)(Le,{type:"text",value:a,onChange:function(e){return i(e.target.value)},placeholder:"Write a message...",maxLength:"120"}),Object(w.jsxs)(Ie,{children:[Object(w.jsx)(Fe,{htmlFor:"file",children:Object(w.jsx)(v.a,{icon:m.b,size:"2x"})}),Object(w.jsx)(Ee,{children:"tweet"})]}),Object(w.jsx)(Re,{id:"file",type:"file",accept:"image/*",onChange:function(e){var n=e.target.files,t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;return b(n)},n[0]&&t.readAsDataURL(n[0])},ref:j})]}),d&&Object(w.jsxs)(De,{children:[Object(w.jsx)("img",{src:d,width:"100px",height:"100px",alt:"tweet"}),Object(w.jsx)(Ae,{onClick:h,children:Object(w.jsx)(v.a,{icon:m.f,size:"2x"})})]})]})},Be=b.c.section(X||(X=Object(d.a)(["\n  width: 90%;\n  margin: auto;\n  height: 70%;\n  overflow-y: auto;\n"]))),Pe=function(e){var n=e.authService,t=Object(o.useState)([]),r=Object(l.a)(t,2),c=r[0],a=r[1],i=n.getCurrentUser();return Object(o.useEffect)((function(){be.collection("tweets").orderBy("created","desc").onSnapshot((function(e){var n=e.docs.map((function(e){return Object(z.a)({id:e.id},e.data())}));a(n)}))}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ne,{db:be,authService:n}),Object(w.jsx)(Be,{children:c.map((function(e,t){return Object(w.jsx)(Ue,{tweet:e,isAuthor:e.author===i.uid,db:be,authService:n},t)}))})]})},We=b.c.section(Y||(Y=Object(d.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),He=b.c.div(Z||(Z=Object(d.a)(["\n  border-radius: 8px;\n  background-color: #dcdcdc;\n  padding: 0 2rem;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  text-align: center;\n"]))),Je=b.c.div($||($=Object(d.a)(["\n  margin: 2rem 0;\n  font-size: 2rem;\n  font-weight: bold;\n"]))),Ke=b.c.form(ee||(ee=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),_e=b.c.input(ne||(ne=Object(d.a)(["\n  width: 300px;\n  margin-bottom: 1rem;\n  padding: 16px 8px;\n  border-radius: 8px;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  border: none;\n  outline: none;\n  font-size: 16px;\n"]))),qe=b.c.button(te||(te=Object(d.a)(["\n  width: 100%;\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 16px 0;\n  border-radius: 8px;\n  margin: 1rem 0;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n"]))),Me=b.c.button(re||(re=Object(d.a)(["\n  width: 100%;\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 16px 0;\n  border-radius: 8px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n  margin-bottom: 1rem;\n"]))),Te=function(e){var n=e.title,t=e.authService,r=Object(o.useState)(""),c=Object(l.a)(r,2),a=c[0],i=c[1],s=Object(o.useState)(""),u=Object(l.a)(s,2),d=u[0],b=u[1],j=Object(h.f)(),p=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"email":i(r);break;case"password":b(r);break;default:return}};return Object(w.jsx)(We,{children:Object(w.jsxs)(He,{children:[Object(w.jsx)(Je,{children:n}),Object(w.jsxs)(Ke,{onSubmit:function(e){switch(e.preventDefault(),n){case"Log In":t.loginEmail(a,d);break;case"Sign Up":t.signupEmail(a,d).then((function(){return j.push("/")}));break;default:return}},children:[Object(w.jsx)(_e,{name:"email",type:"email",placeholder:"Email",onChange:p,value:a}),Object(w.jsx)(_e,{name:"password",type:"password",placeholder:"Password",onChange:p,value:d}),Object(w.jsx)(qe,{children:n})]}),"Log In"===n&&Object(w.jsx)(Me,{children:Object(w.jsx)(x.b,{to:"/register",children:"Sign Up"})})]})})},Ge=b.c.img(ce||(ce=Object(d.a)(["\n  display: block;\n  width: 250px;\n  height: 250px;\n  border-radius: 50%;\n  margin: 48px auto;\n"]))),Qe=b.c.div(ae||(ae=Object(d.a)(["\n  text-align: center;\n  font-size: 32px;\n  margin-bottom: 48px;\n  line-height: 32px;\n"]))),Ve=b.c.label(ie||(ie=Object(d.a)(["\n  transition: all 300ms ease-in-out;\n  cursor: pointer;\n  color: #34495e;\n  &:hover {\n    transform: scale(1.2);\n    color: #3498db;\n  }\n"]))),Xe=b.c.div(oe||(oe=Object(d.a)(["\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]))),Ye=b.c.input(se||(se=Object(d.a)(["\n  display: none;\n"]))),Ze=b.c.form(ue||(ue=Object(d.a)(["\n  text-align: center;\n  margin-bottom: 48px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n"]))),$e=b.c.input(le||(le=Object(d.a)(["\n  height: 100%;\n  outline: none;\n  background-color: transparent;\n  border: none;\n  font-size: 24px;\n"]))),en=b.c.button(de||(de=Object(d.a)(["\n  outline: none;\n  border: none;\n  transition: all 300ms ease-in-out;\n  cursor: pointer;\n  color: #34495e;\n  &:hover {\n    transform: scale(1.2);\n    color: #3498db;\n  }\n"]))),nn=function(e){var n,t=e.authService.getCurrentUser(),r=Object(o.useState)(""),c=Object(l.a)(r,2),a=c[0],i=c[1],s=Object(o.useState)(!1),u=Object(l.a)(s,2),d=u[0],b=u[1],j=function(){var e=Object(g.a)(O.a.mark((function e(r){var c,a,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.target.files,t.photoURL&&"default.jpg"!==(a=je.refFromURL(t.photoURL)).name&&a.delete(),i=je.ref().child("profile/".concat(t.uid,"/").concat(Object(ze.a)())),e.next=5,i.put(c[0]);case 5:return o=e.sent,e.next=8,o.ref.getDownloadURL();case 8:n=e.sent,t.updateProfile({photoURL:n});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){return b((function(e){return!e}))};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ge,{src:t.photoURL}),d?Object(w.jsxs)(Ze,{onSubmit:function(e){e.preventDefault(),t.updateProfile({displayName:a}),p(),i(null)},children:[Object(w.jsx)($e,{id:"name",type:"text",placeholder:t.displayName,onChange:function(e){var n=e.target.value;return i(n)}}),Object(w.jsx)(en,{children:Object(w.jsx)(v.a,{icon:m.a,size:"2x"})})]}):Object(w.jsx)(Qe,{children:t.displayName}),Object(w.jsxs)(Xe,{children:[Object(w.jsx)(Ve,{htmlFor:"name",onClick:p,children:Object(w.jsx)(v.a,{icon:m.c,size:"3x"})}),Object(w.jsx)(Ve,{htmlFor:"file",children:Object(w.jsx)(v.a,{icon:m.b,size:"3x"})}),Object(w.jsx)(Ye,{id:"file",type:"file",accept:"image/*",onChange:j})]})]})},tn=function(e){var n=e.authService,t=e.isLoggedIn;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(x.a,{children:[t&&Object(w.jsx)(U,{authService:n}),Object(w.jsx)(h.c,{children:t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.a,{exact:!0,path:"/",children:Object(w.jsx)(Pe,{authService:n})}),Object(w.jsx)(h.a,{path:"/profile",children:Object(w.jsx)(nn,{authService:n})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.a,{exact:!0,path:"/",children:Object(w.jsx)(Te,{title:"Log In",authService:n})}),Object(w.jsx)(h.a,{exact:!0,path:"/register",children:Object(w.jsx)(Te,{title:"Sign Up",authService:n})})]})})]})})},rn=new function e(){var n=this;Object(C.a)(this,e),this.onStateChange=function(e){return L.a.auth().onAuthStateChanged((function(n){return e(n)}))},this.defaultImgUrl=function(){return L.a.storage().ref().child("profile/default.jpg").getDownloadURL()},this.signupEmail=function(){var e=Object(g.a)(O.a.mark((function e(t,r){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.defaultImgUrl();case 2:c=e.sent,L.a.auth().createUserWithEmailAndPassword(t,r).then((function(e){var n=e.user;n.updateProfile({displayName:n.email,photoURL:c})})).catch((function(e){return alert(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.loginEmail=function(e,n){return L.a.auth().signInWithEmailAndPassword(e,n).catch((function(e){return alert(e.message)}))},this.logout=function(){return L.a.auth().signOut()},this.getCurrentUser=function(){return L.a.auth().currentUser}},cn=function(){var e=Object(o.useState)(!1),n=Object(l.a)(e,2),t=n[0],r=n[1];return Object(o.useEffect)((function(){return rn.onStateChange((function(e){return r(!!e)}))}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p,{}),Object(w.jsx)(tn,{authService:rn,isLoggedIn:t})]})};u.a.render(Object(w.jsx)(cn,{}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.0bd1afa8.chunk.js.map