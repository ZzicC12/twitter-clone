(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{58:function(e,n,t){"use strict";t.r(n);var r,c=t(2),a=t(35),i=t.n(a),o=t(12),s=t(5),u=t(3),l=t(36),d=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};window.addEventListener("resize",(function(){return d()})),d();var b,j,p,x=Object(u.a)(r||(r=Object(s.a)(["\n\t\t",';\n\t\t* {\n\t\t\tbox-sizing: border-box;\t\t\n\t\t\t}\n\t\ta{\n\t\t\ttext-decoration:none;\n\t\t\tcolor:inherit;\n\t\t\toutline:none;\n\t\t}\n\t\tbody{\n\t\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n\t\t}\n\t\thtml, body, #root{\n\t\t\twidth:100%;\n\t\t\theight: calc(var(--vh, 1vh) * 100);\n\t\t}\n\t\t#root{\t\t\t\t\n\t\t\twidth:500px;\n\t\t\tmargin:auto;\n\t\t\tbackground-color:#ecf0f1;\n\t\t}\n\t\t::-webkit-scrollbar { display: none; }\n\t\tbutton{\n\t\t\tborder:none;\n\t\t\toutline:none;\n\t\t\tbackground-color:transparent;\n\t\t\tcursor:pointer;\n\t\t\tcolor:#34495e;\n\t\t\n\t\t}\n\n'])),l.a),h=t(24),f=t(8),O=t(11),g=t.n(O),m=t(20),v=t(15),w=t(14),y=t(1),S=u.c.ul(b||(b=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  color: #34495e;\n"]))),k=u.c.li(j||(j=Object(s.a)(["\n  padding: 8px;\n  cursor: pointer;\n  transition: 300ms all ease-in-out;\n  &:hover {\n    color: #3498db;\n  }\n"]))),U=u.c.div(p||(p=Object(s.a)(["\n  display: flex;\n"]))),z=function(e){var n=e.authService,t=Object(f.f)(),r=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.logout().then((function(){return t.push("/")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("nav",{children:Object(y.jsxs)(S,{children:[Object(y.jsxs)(U,{children:[Object(y.jsx)(k,{children:Object(y.jsx)(h.b,{to:"/",children:Object(y.jsx)(w.a,{icon:v.d,size:"2x"})})}),Object(y.jsx)(k,{children:Object(y.jsx)(h.b,{to:"/profile",children:Object(y.jsx)(w.a,{icon:v.g,size:"2x"})})})]}),Object(y.jsx)(k,{onClick:r,children:Object(y.jsx)(w.a,{icon:v.e,size:"2x"})})]})})},L=t(42),C=t(40),R=t(21);t(56),t(60),t(59);R.a.initializeApp({apiKey:"AIzaSyBoiKmR9DF1vNkhu6A_IxU4v0BtHFaElDc",authDomain:"twitter-clone-40183.firebaseapp.com",projectId:"twitter-clone-40183",storageBucket:"twitter-clone-40183.appspot.com",messagingSenderId:"311522568853",appId:"1:311522568853:web:8ddcb2d1af7cdb1a26099c",databaseURL:"https://twitter-clone-40183-default-rtdb.firebaseio.com"});var I,E,F,D,A,N,P,B,H,W,J,K,_,q,M,T,G,Q,V,X,Y,Z,$,ee,ne,te,re,ce,ae,ie,oe,se,ue,le,de,be,je=R.a.firestore(),pe=R.a.storage(),xe=u.c.div(I||(I=Object(s.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 24px 16px;\n  border-radius: 16px;\n  margin-bottom: 16px;\n"]))),he=u.c.div(E||(E=Object(s.a)(["\n  flex: 1;\n  margin-right: 16px;\n"]))),fe=u.c.div(F||(F=Object(s.a)(["\n  flex: 9;\n  display: flex;\n  flex-direction: column;\n  width: 350px;\n"]))),Oe=u.c.img(D||(D=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"]))),ge=u.c.button(A||(A=Object(s.a)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: all 300ms ease-in-out;\n  &:hover {\n    transform: scale(1.1);\n    transform: rotate(360deg);\n    color: red;\n  }\n"]))),me=u.c.div(N||(N=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 20px;\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),ve=u.c.div(P||(P=Object(s.a)(["\n  font-size: 24px;\n  width: 350px;\n  word-wrap: break-word;\n"]))),we=u.c.div(B||(B=Object(s.a)(["\n  color: #505050;\n"]))),ye=u.c.img(H||(H=Object(s.a)(["\n  width: 350px;\n  border-radius: 16px;\n"]))),Se=u.c.div(W||(W=Object(s.a)(["\n  margin-top: 16px;\n"]))),ke=u.c.form(J||(J=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 0;\n"]))),Ue=u.c.input(K||(K=Object(s.a)(["\n  border: none;\n  font-size: 24px;\n  outline: none;\n  margin: 0;\n  padding: 0;\n"]))),ze=function(e){var n=e.tweet,t=e.isAuthor,r=e.db,a=Object(c.useState)(!1),i=Object(o.a)(a,2),s=i[0],u=i[1],l=Object(c.useState)(n.text),d=Object(o.a)(l,2),b=d[0],j=d[1],p=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c")){e.next=8;break}return e.next=4,r.collection("tweets").doc(n.id).delete();case 4:if(e.t0=n.imageUrl,!e.t0){e.next=8;break}return e.next=8,pe.refFromURL(n.imageUrl).delete();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.collection("tweets").doc(n.id).update({text:b});case 3:u(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{children:Object(y.jsxs)(xe,{children:[Object(y.jsx)(he,{children:Object(y.jsx)(Oe,{src:n.photoURL})}),Object(y.jsxs)(fe,{children:[Object(y.jsxs)(me,{children:[Object(y.jsx)(we,{children:n.displayName}),t&&Object(y.jsxs)("div",{children:[Object(y.jsx)(ge,{onClick:p,children:Object(y.jsx)(w.a,{icon:v.f,size:"lg"})}),Object(y.jsx)(ge,{onClick:function(){return u((function(e){return!e}))},children:Object(y.jsx)(w.a,{icon:v.c,size:"lg"})})]})]}),s?Object(y.jsxs)(ke,{onSubmit:x,children:[Object(y.jsx)(Ue,{type:"text",placeholder:n.text,required:!0,onChange:function(e){var n=e.target.value;j(n)}}),Object(y.jsx)(ge,{children:Object(y.jsx)(w.a,{icon:v.a,size:"2x"})})]}):Object(y.jsx)(ve,{children:n.text}),n.imageUrl&&Object(y.jsx)(Se,{children:Object(y.jsx)(ye,{src:n.imageUrl})})]})]})})},Le=t(61),Ce=u.c.form(_||(_=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 32px 0;\n"]))),Re=u.c.input(q||(q=Object(s.a)(["\n  width: 90%;\n  margin: 0 auto;\n  margin-bottom: 1rem;\n  padding: 16px 8px;\n  border-radius: 8px;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  border: none;\n  outline: none;\n  font-size: 16px;\n"]))),Ie=u.c.input(M||(M=Object(s.a)(["\n  display: none;\n"]))),Ee=u.c.div(T||(T=Object(s.a)(["\n  width: 85%;\n  margin: auto;\n  display: flex;\n  justify-content: space-between;\n"]))),Fe=u.c.label(G||(G=Object(s.a)(["\n  transition: all 300ms ease-in-out;\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.2);\n  }\n"]))),De=u.c.button(Q||(Q=Object(s.a)(["\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 8px 16px;\n  border-radius: 8px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n  transition: all 300ms ease-in-out;\n  &:hover {\n    transform: scale(1.1);\n  }\n"]))),Ae=u.c.div(V||(V=Object(s.a)(["\n  width: 85%;\n  margin: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),Ne=u.c.button(X||(X=Object(s.a)(["\n  background-color: transparent;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  transition: all 300ms ease-in-out;\n  &:hover {\n    transform: scale(1.1);\n    color: red;\n  }\n"]))),Pe=function(e){var n=e.authService,t=e.db,r=Object(c.useState)(""),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(""),l=Object(o.a)(u,2),d=l[0],b=l[1],j=Object(c.useRef)(),p=n.getCurrentUser(),x=function(){var e=Object(m.a)(g.a.mark((function e(n){var r,c,a,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",n.preventDefault(),c=pe.ref().child("".concat(p.uid,"/").concat(Object(Le.a)())),!d){e.next=10;break}return e.next=6,c.putString(d,"data_url");case 6:return a=e.sent,e.next=9,a.ref.getDownloadURL();case 9:r=e.sent;case 10:return o={text:i,created:Date.now(),author:p.uid,imageUrl:r,displayName:p.displayName,photoURL:p.photoURL},e.next=13,t.collection("tweets").add(o).then((function(){return s("")})).then((function(){return h()}));case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){b(null),j.current.value=""};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(Ce,{onSubmit:x,children:[Object(y.jsx)(Re,{type:"text",value:i,onChange:function(e){return s(e.target.value)},placeholder:"Write a message...",maxLength:"120"}),Object(y.jsxs)(Ee,{children:[Object(y.jsx)(Fe,{htmlFor:"file",children:Object(y.jsx)(w.a,{icon:v.b,size:"2x"})}),Object(y.jsx)(De,{children:"tweet"})]}),Object(y.jsx)(Ie,{id:"file",type:"file",accept:"image/*",onChange:function(e){var n=e.target.files,t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;return b(n)},n[0]&&t.readAsDataURL(n[0])},ref:j})]}),d&&Object(y.jsxs)(Ae,{children:[Object(y.jsx)("img",{src:d,width:"100px",height:"100px",alt:"tweet"}),Object(y.jsx)(Ne,{onClick:h,children:Object(y.jsx)(w.a,{icon:v.f,size:"2x"})})]})]})},Be=u.c.section(Y||(Y=Object(s.a)(["\n  width: 90%;\n  margin: auto;\n  height: 70%;\n  overflow-y: auto;\n"]))),He=function(e){var n=e.authService,t=Object(c.useState)([]),r=Object(o.a)(t,2),a=r[0],i=r[1],s=n.getCurrentUser();return Object(c.useEffect)((function(){je.collection("tweets").orderBy("created","desc").onSnapshot((function(e){var n=e.docs.map((function(e){return Object(L.a)({id:e.id},e.data())}));i(n)}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Pe,{db:je,authService:n}),Object(y.jsx)(Be,{children:a.map((function(e,t){return Object(y.jsx)(ze,{tweet:e,isAuthor:e.author===s.uid,db:je,authService:n},t)}))})]})},We=u.c.section(Z||(Z=Object(s.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),Je=u.c.div($||($=Object(s.a)(["\n  border-radius: 8px;\n  background-color: #dcdcdc;\n  padding: 0 2rem;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  text-align: center;\n"]))),Ke=u.c.div(ee||(ee=Object(s.a)(["\n  margin: 2rem 0;\n  font-size: 2rem;\n  font-weight: bold;\n"]))),_e=u.c.form(ne||(ne=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),qe=u.c.input(te||(te=Object(s.a)(["\n  width: 300px;\n  margin-bottom: 1rem;\n  padding: 16px 8px;\n  border-radius: 8px;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  border: none;\n  outline: none;\n  font-size: 16px;\n"]))),Me=u.c.button(re||(re=Object(s.a)(["\n  width: 100%;\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 16px 0;\n  border-radius: 8px;\n  margin: 1rem 0;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n"]))),Te=u.c.button(ce||(ce=Object(s.a)(["\n  width: 100%;\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 16px 0;\n  border-radius: 8px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n  margin-bottom: 1rem;\n"]))),Ge=function(e){var n=e.title,t=e.authService,r=Object(c.useState)(""),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(""),l=Object(o.a)(u,2),d=l[0],b=l[1],j=Object(f.f)(),p=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"email":s(r);break;case"password":b(r);break;default:return}};return Object(y.jsx)(We,{children:Object(y.jsxs)(Je,{children:[Object(y.jsx)(Ke,{children:n}),Object(y.jsxs)(_e,{onSubmit:function(e){switch(e.preventDefault(),n){case"Log In":t.loginEmail(i,d);break;case"Sign Up":t.signupEmail(i,d).then((function(){return j.push("/")}));break;default:return}},children:[Object(y.jsx)(qe,{name:"email",type:"email",placeholder:"Email",onChange:p,value:i}),Object(y.jsx)(qe,{name:"password",type:"password",placeholder:"Password",onChange:p,value:d}),Object(y.jsx)(Me,{children:n})]}),"Log In"===n&&Object(y.jsx)(Te,{children:Object(y.jsx)(h.b,{to:"/register",children:"Sign Up"})})]})})},Qe=u.c.img(ae||(ae=Object(s.a)(["\n  display: block;\n  width: 250px;\n  height: 250px;\n  border-radius: 50%;\n  margin: 48px auto;\n"]))),Ve=u.c.div(ie||(ie=Object(s.a)(["\n  text-align: center;\n  font-size: 32px;\n  margin-bottom: 48px;\n  line-height: 32px;\n"]))),Xe=u.c.label(oe||(oe=Object(s.a)(["\n  transition: all 300ms ease-in-out;\n  cursor: pointer;\n  color: #34495e;\n  &:hover {\n    transform: scale(1.2);\n    color: #3498db;\n  }\n"]))),Ye=u.c.div(se||(se=Object(s.a)(["\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]))),Ze=u.c.input(ue||(ue=Object(s.a)(["\n  display: none;\n"]))),$e=u.c.form(le||(le=Object(s.a)(["\n  text-align: center;\n  margin-bottom: 48px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n"]))),en=u.c.input(de||(de=Object(s.a)(["\n  height: 100%;\n  outline: none;\n  background-color: transparent;\n  border: none;\n  font-size: 24px;\n"]))),nn=u.c.button(be||(be=Object(s.a)(["\n  outline: none;\n  border: none;\n  transition: all 300ms ease-in-out;\n  cursor: pointer;\n  color: #34495e;\n  &:hover {\n    transform: scale(1.2);\n    color: #3498db;\n  }\n"]))),tn=function(e){var n,t=e.authService.getCurrentUser(),r=Object(c.useState)(""),a=Object(o.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(!1),l=Object(o.a)(u,2),d=l[0],b=l[1],j=function(){var e=Object(m.a)(g.a.mark((function e(r){var c,a,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.target.files,t.photoURL&&"default.jpg"!==(a=pe.refFromURL(t.photoURL)).name&&a.delete(),i=pe.ref().child("profile/".concat(t.uid,"/").concat(Object(Le.a)())),e.next=5,i.put(c[0]);case 5:return o=e.sent,e.next=8,o.ref.getDownloadURL();case 8:n=e.sent,t.updateProfile({photoURL:n});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){return b((function(e){return!e}))};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Qe,{src:t.photoURL}),d?Object(y.jsxs)($e,{onSubmit:function(e){e.preventDefault(),t.updateProfile({displayName:i}),p(),s("")},children:[Object(y.jsx)(en,{id:"name",type:"text",placeholder:t.displayName,onChange:function(e){var n=e.target.value;return s(n)}}),Object(y.jsx)(nn,{children:Object(y.jsx)(w.a,{icon:v.a,size:"2x"})})]}):Object(y.jsx)(Ve,{children:t.displayName}),Object(y.jsxs)(Ye,{children:[Object(y.jsx)(Xe,{htmlFor:"name",onClick:p,children:Object(y.jsx)(w.a,{icon:v.c,size:"3x"})}),Object(y.jsx)(Xe,{htmlFor:"file",children:Object(y.jsx)(w.a,{icon:v.b,size:"3x"})}),Object(y.jsx)(Ze,{id:"file",type:"file",accept:"image/*",onChange:j})]})]})},rn=function(e){var n=e.authService,t=e.isLoggedIn;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a,{children:[t&&Object(y.jsx)(z,{authService:n}),Object(y.jsx)(f.c,{children:t?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{exact:!0,path:"/",children:Object(y.jsx)(He,{authService:n})}),Object(y.jsx)(f.a,{path:"/profile",children:Object(y.jsx)(tn,{authService:n})})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{exact:!0,path:"/",children:Object(y.jsx)(Ge,{title:"Log In",authService:n})}),Object(y.jsx)(f.a,{exact:!0,path:"/register",children:Object(y.jsx)(Ge,{title:"Sign Up",authService:n})})]})})]})})},cn=new function e(){var n=this;Object(C.a)(this,e),this.onStateChange=function(e){return R.a.auth().onAuthStateChanged((function(n){return e(n)}))},this.defaultImgUrl=function(){return R.a.storage().ref().child("profile/default.jpg").getDownloadURL()},this.signupEmail=function(){var e=Object(m.a)(g.a.mark((function e(t,r){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.defaultImgUrl();case 2:c=e.sent,R.a.auth().createUserWithEmailAndPassword(t,r).then((function(e){var n=e.user;n.updateProfile({displayName:n.email,photoURL:c})})).catch((function(e){return alert(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.loginEmail=function(e,n){return R.a.auth().signInWithEmailAndPassword(e,n).catch((function(e){return alert(e.message)}))},this.logout=function(){return R.a.auth().signOut()},this.getCurrentUser=function(){return R.a.auth().currentUser}},an=function(){var e=Object(c.useState)(!1),n=Object(o.a)(e,2),t=n[0],r=n[1];return Object(c.useEffect)((function(){return cn.onStateChange((function(e){return r(!!e)}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(x,{}),Object(y.jsx)(rn,{authService:cn,isLoggedIn:t})]})};i.a.render(Object(y.jsx)(an,{}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.b78b83e4.chunk.js.map